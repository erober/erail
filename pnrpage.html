<!DOCTYPE html> 
<html>
        <meta charset="utf-8">
        <LINK REL=icon href="https://cdn4.iconfinder.com/data/icons/mobile-device/512/train-metropolitan-railways-form-2-512.png">
    <head>
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

            <!-- jQuery library -->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
            
            <!-- Latest compiled JavaScript -->
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
            <title>PNR STATUS</title>
          
          </head>

    <body style="background-color: rgb(125, 177, 177)">

    <body >

            <nav class="navbar navbar-inverse">
                    <div class="container-fluid">
                      <div class="navbar-header">
                        <a class="navbar-brand" href="#">Train Info</a>
                      </div>
                      <ul class="nav navbar-nav">
                        <li class="active"><a href="index.html">HOME</a></li>
                        <li><a href="tbs.html">GET TRAINS</a></li>
                        <li><a href="pnrpage.html">PNR STATUS</a></li>
                        <li><a href="livestatus.html">LIVE STATUS</a></li>
                      </ul>
                    </div>
              </nav>
<div><center><h1 style="font-size: 100px">TRAINS PNR STATUS</h1></center></div>


<div style=" text-align: center ">
<h4><b>ENTER PNR NUMBER:</b></h4>
  <input  style="margin-left:20px" type="text" id="pnr">
  <br><br>
<button onclick=pnr()>GET STATUS</button>
</div><br><br><br><br>

<div style= "text-align: center ">

      <h4>YOUR DETAILS ARE:</h4>
      <BR><BR>
      <table id="pnrdetails" border="1" style="font-size: 20px;" align="center" width="80%"></table>
    
      </body>

<script>
var pnr1=document.getElementById("pnr");
function pnr(){
  var response;
    let xhr = new XMLHttpRequest;
            xhr.addEventListener('load', function(){
                 response = JSON.parse(this.responseText)
                console.log(response);
                
                //var it=document.createElement("li");
            /*it.innerHTML=`
               <center>             
  <tr><th>DOJ</th><th></th>Total_passengers<th>From_station</th><th>To_station</th><tr>,
  <tr><td>${response.doj}</td><td>${response.total_passengers}</td><td>${response.from_station.name}</td><td>${response.to_station.name}</td></tr>
 </center>
            `*/
  var pnr11=document.getElementById("pnrdetails");
  var row = pnr11.insertRow(0);
  var cell1 = row.insertCell(0);
  var cell2 = row.insertCell(1);
  var cell3=row.insertCell(2);
  var cell4=row.insertCell(3);
  var cell5=row.insertCell(4);
  cell1.innerHTML = "D.O.J";

  cell1.innerHTML = "DOJ";
  cell2.innerHTML = "Total Passengers";
  cell3.innerHTML = "From Station";
  cell4.innerHTML = "To Station";
  cell5.innerHTML = "Journey Class";

  var row1 = pnr11.insertRow(1);
  var cell1 = row1.insertCell(0);
  var cell2 = row1.insertCell(1);
  var cell3=row1.insertCell(2);
  var cell4=row1.insertCell(3);
  var cell5=row1.insertCell(4);
  cell1.innerHTML= response.doj;
  cell2.innerHTML = response.total_passengers;
  cell3.innerHTML = response.from_station.name;
  cell4.innerHTML = response.to_station.name;
  cell5.innerHTML = response.journey_class.code;
              })
              
              //4503661923
              var url= "https://api.railwayapi.com/v2/pnr-status/pnr/"+pnr1.value+"/apikey/x5ca0cxi5x/" ;                
            console.log(url);
           xhr.open('GET', url )
            xhr.send();


        //var bg=document.getElementById("bg");
            
           }
</script>
</html>